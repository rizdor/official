---
import "@/scss/styles.scss";
import Blog from '@/components/blog.astro';
---

  <div class="showMore js-showMore">
    <input class="showMore_trigger" id="showMore" type="checkbox">
    <label class="showMore_btn" for="showMore">
    <div class="showMore_top_and_bottom">
    <div class="showMore_left_and_right">
    </div>
    </div>
    </label>
    <div class="showMore_contentWrapper">
      <div class="showMore_content">
            <div class="left_side">
              <Blog width = '35vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '35vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '35vw', height = 'auto'/>
            </div>  
            <div class="right_side">
              <Blog width = '35vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '35vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '35vw', height = 'auto'/>
            </div> 
            <div class="showMore_content_responsive">
              <Blog width = '70vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '70vw', height = 'auto', marginbottom="120px"/>
              <Blog width = '70vw', height = 'auto'/>              
            </div> 
      </div>  
    </div>
  </div>

  <script is:inline>
    class ShowMoreShowLessButton {
      #defaults = {
        selector: '.js-showMore',
        customPropertyName: '--mask-height'
      }

      #options
      #showMoreList
      constructor(config) {
        this.#options = { ...this.#defaults, ...config }
        this.#showMoreList = document.querySelectorAll(this.#options.selector)
        this.#init()
      }

      #init() {
        for (const el of this.#showMoreList) {
          const trigger = el.querySelector('input[type="checkbox"]')
          const contentWrapper = el.querySelector('.showMore_contentWrapper')
          const content = contentWrapper.querySelector('.showMore_content')
          const contentHeight = content.getBoundingClientRect().height
          trigger.addEventListener('change', () => {
            if (trigger.checked) {
              contentWrapper.style.setProperty(
                this.#options.customPropertyName,
                contentHeight + 'px'
              )
            } else {
              contentWrapper.removeAttribute('style')
            }
          })
        }
      }
    }

    // クライアントサイドで実行
    if (typeof window !== "undefined") {
      window.addEventListener("DOMContentLoaded", () => {
        const showMoreShowLessButton = new ShowMoreShowLessButton()
      })
    }
  </script>
